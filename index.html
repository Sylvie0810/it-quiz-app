<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IT ìš©ì–´ í•™ìŠµ í€´ì¦ˆ</title>
    
    <!-- Pretendard í°íŠ¸ -->
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css" />
    
    <!-- ì ‘ê·¼ì„± ì„¤ì • -->
    <meta name="color-scheme" content="light dark">
    <meta name="theme-color" content="#3182ce">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- ì ‘ê·¼ì„± ì»¨íŠ¸ë¡¤ -->
    <div class="accessibility-controls">
        <button class="btn btn--sm btn--outline" id="theme-toggle" aria-label="ë‹¤í¬ëª¨ë“œ ì „í™˜">
            <span class="theme-icon">ğŸŒ™</span>
        </button>
        <button class="btn btn--sm btn--outline" id="motion-toggle" aria-label="ëª¨ì…˜ ê°ì†Œ">
            <span class="motion-icon">âš¡</span>
        </button>
    </div>

    <div class="container">
        <!-- ë©”ì¸ í™”ë©´ -->
        <div id="home-screen" class="screen active">
            <div class="home-content">
                <div class="hero-section">
                    <div class="hero-icon">ğŸ’»</div>
                    <h1>IT ìš©ì–´ í•™ìŠµ í€´ì¦ˆ</h1>
                    <p class="subtitle">ë‹¤ì–‘í•œ IT ìš©ì–´ë“¤ì„ ì¬ë¯¸ìˆê²Œ í•™ìŠµí•´ë³´ì„¸ìš”!</p>
                    <div class="hero-stats">
                        <div class="stat-item">
                            <span class="stat-number" id="home-terms-count">52</span>
                            <span class="stat-label">ì´ ìš©ì–´</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">4</span>
                            <span class="stat-label">ë¬¸ì œ ìœ í˜•</span>
                        </div>
                    </div>
                </div>
                
                <div class="quiz-types">
                    <div class="quiz-type-card" data-type="multiple-choice">
                        <div class="card-icon">ğŸ“</div>
                        <div class="card-content">
                            <h3>ê°ê´€ì‹ ë¬¸ì œ</h3>
                            <p>ìš©ì–´ì˜ ì •ì˜ë¥¼ ë³´ê³  ì˜¬ë°”ë¥¸ ìš©ì–´ë¥¼ ì„ íƒí•˜ì„¸ìš”</p>
                            <div class="quiz-meta">
                                <span class="quiz-count">15ë¬¸ì œ</span>
                                <span class="quiz-difficulty easy">ì‰¬ì›€</span>
                            </div>
                        </div>
                        <div class="card-arrow">â†’</div>
                    </div>
                    
                    <div class="quiz-type-card" data-type="short-answer">
                        <div class="card-icon">âœï¸</div>
                        <div class="card-content">
                            <h3>ë‹¨ë‹µí˜• ë¬¸ì œ</h3>
                            <p>ì •ì˜ë¥¼ ë³´ê³  í•´ë‹¹í•˜ëŠ” ìš©ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”</p>
                            <div class="quiz-meta">
                                <span class="quiz-count">12ë¬¸ì œ</span>
                                <span class="quiz-difficulty medium">ë³´í†µ</span>
                            </div>
                        </div>
                        <div class="card-arrow">â†’</div>
                    </div>
                    
                    <div class="quiz-type-card" data-type="true-false">
                        <div class="card-icon">âš–ï¸</div>
                        <div class="card-content">
                            <h3>ì°¸/ê±°ì§“ ë¬¸ì œ</h3>
                            <p>ìš©ì–´ì™€ ì •ì˜ê°€ ì˜¬ë°”ë¥´ê²Œ ì—°ê²°ë˜ì—ˆëŠ”ì§€ íŒë‹¨í•˜ì„¸ìš”</p>
                            <div class="quiz-meta">
                                <span class="quiz-count">15ë¬¸ì œ</span>
                                <span class="quiz-difficulty easy">ì‰¬ì›€</span>
                            </div>
                        </div>
                        <div class="card-arrow">â†’</div>
                    </div>
                    
                    <div class="quiz-type-card" data-type="application">
                        <div class="card-icon">ğŸš€</div>
                        <div class="card-content">
                            <h3>ì‘ìš© ë¬¸ì œ</h3>
                            <p>ì‹¤ì œ ìƒí™©ì—ì„œ ì–´ë–¤ ìš©ì–´ê°€ ì ìš©ë˜ëŠ”ì§€ ë§ì¶°ë³´ì„¸ìš”</p>
                            <div class="quiz-meta">
                                <span class="quiz-count">10ë¬¸ì œ</span>
                                <span class="quiz-difficulty hard">ì–´ë ¤ì›€</span>
                            </div>
                        </div>
                        <div class="card-arrow">â†’</div>
                    </div>

                    <div class="quiz-type-card" data-type="dictionary">
                        <div class="card-icon">ğŸ“š</div>
                        <div class="card-content">
                            <h3>IT ìš©ì–´ ì‚¬ì „</h3>
                            <p>ì›í•˜ëŠ” ìš©ì–´ë¥¼ ê²€ìƒ‰í•˜ì—¬ ì •ì˜ì™€ ì„¤ëª…ì„ í™•ì¸í•˜ì„¸ìš”</p>
                            <div class="quiz-meta">
                                <span class="quiz-count" id="terms-count">52ê°œ ìš©ì–´</span>
                                <span class="quiz-difficulty easy">ê²€ìƒ‰</span>
                            </div>
                        </div>
                        <div class="card-arrow">â†’</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- í€´ì¦ˆ í™”ë©´ -->
        <div id="quiz-screen" class="screen">
            <div class="quiz-header">
                <div class="quiz-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <span class="progress-text" id="progress-text">1 / 15</span>
                </div>
                <button class="btn btn--outline btn--sm" id="home-btn">í™ˆìœ¼ë¡œ</button>
            </div>
            
            <div class="quiz-content">
                <div class="question-card card">
                    <div class="card__body">
                        <h2 id="question-title">ê°ê´€ì‹ ë¬¸ì œ</h2>
                        <div id="question-content"></div>
                        <div id="answer-options"></div>
                        <div id="feedback" class="feedback hidden"></div>
                        <div class="question-actions">
                            <button class="btn btn--outline" id="prev-btn">ì´ì „</button>
                            <button class="btn btn--primary" id="submit-btn" disabled>ë‹µì•ˆ ì œì¶œ</button>
                            <button class="btn btn--secondary hidden" id="next-btn">ë‹¤ìŒ ë¬¸ì œ</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ì‚¬ì „ í™”ë©´ -->
        <div id="dictionary-screen" class="screen">
            <div class="dictionary-header">
                <div class="header-content">
                    <h2>ğŸ“š IT ìš©ì–´ ì‚¬ì „</h2>
                    <button class="btn btn--outline btn--sm" id="home-dict-btn">í™ˆìœ¼ë¡œ</button>
                </div>
            </div>
            
            <div class="dictionary-content">
                <div class="search-section">
                    <div class="search-container">
                        <div class="search-input-wrapper">
                            <input 
                                type="text" 
                                id="search-input" 
                                class="search-input" 
                                placeholder="ê²€ìƒ‰í•  ìš©ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: API, React, HTML...)"
                                autocomplete="off"
                            >
                            <button class="search-btn" id="search-btn" aria-label="ê²€ìƒ‰">
                                ğŸ”
                            </button>
                        </div>
                        <div class="search-suggestions" id="search-suggestions"></div>
                    </div>
                </div>
                
                <div class="dictionary-results" id="dictionary-results">
                    <div class="welcome-message">
                        <div class="welcome-icon">ğŸ¯</div>
                        <h3>IT ìš©ì–´ë¥¼ ê²€ìƒ‰í•´ë³´ì„¸ìš”!</h3>
                        <p><span id="terms-count-welcome">52</span>ê°œì˜ ë‹¤ì–‘í•œ IT ìš©ì–´ì™€ ì •ì˜ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        <div class="popular-terms">
                            <h4>ì¸ê¸° ìš©ì–´</h4>
                            <div class="term-tags">
                                <button class="term-tag" data-term="API">API</button>
                                <button class="term-tag" data-term="React">React</button>
                                <button class="term-tag" data-term="JavaScript">JavaScript</button>
                                <button class="term-tag" data-term="Framework">Framework</button>
                                <button class="term-tag" data-term="Component">Component</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="search-results hidden" id="search-results">
                        <div class="results-header">
                            <span class="results-count" id="results-count">0ê°œ ê²°ê³¼</span>
                        </div>
                        <div class="results-list" id="results-list"></div>
                    </div>
                    
                    <div class="all-terms hidden" id="all-terms">
                        <div class="terms-header">
                            <h3>ì „ì²´ ìš©ì–´ ëª©ë¡</h3>
                            <div class="terms-sort">
                                <button class="sort-btn active" data-sort="alphabetical">ê°€ë‚˜ë‹¤ìˆœ</button>
                                <button class="sort-btn" data-sort="category">ì¹´í…Œê³ ë¦¬ë³„</button>
                            </div>
                        </div>
                        <div class="terms-list" id="terms-list"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ê²°ê³¼ í™”ë©´ -->
        <div id="result-screen" class="screen">
            <div class="result-content">
                <div class="result-card card">
                    <div class="card__body">
                        <h2>í€´ì¦ˆ ì™„ë£Œ!</h2>
                        <div class="score-display">
                            <div class="score-circle">
                                <span id="score-percentage">0%</span>
                            </div>
                            <div class="score-details">
                                <p><span id="correct-count">0</span>ê°œ ì •ë‹µ / <span id="total-count">0</span>ê°œ ë¬¸ì œ</p>
                                <p id="score-message">í›Œë¥­í•©ë‹ˆë‹¤!</p>
                            </div>
                        </div>
                        
                        <div class="result-actions">
                            <button class="btn btn--primary" id="restart-btn">ë‹¤ì‹œ ë„ì „í•˜ê¸°</button>
                            <button class="btn btn--secondary" id="home-result-btn">ë‹¤ë¥¸ í€´ì¦ˆ ì„ íƒ</button>
                        </div>
                        
                        <div class="wrong-answers" id="wrong-answers">
                            <h3>í‹€ë¦° ë¬¸ì œ ë³µìŠµ</h3>
                            <div id="wrong-list"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Google Sheets ì—°ë™ ë²„íŠ¼ -->
    <div id="admin-panel" class="admin-panel hidden">
        <div class="admin-header">
            <h3>ğŸ”§ ê´€ë¦¬ì íŒ¨ë„</h3>
            <button class="btn btn--sm btn--outline" onclick="toggleAdminPanel()">ë‹«ê¸°</button>
        </div>
        <div class="admin-content">
            <div class="admin-section">
                <h4>ğŸ“Š Google Sheets ì—°ë™</h4>
                <p class="admin-desc">Google Sheetsì—ì„œ ìš©ì–´ ë°ì´í„°ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                <div class="admin-buttons">
                    <button class="btn btn--primary btn--sm" onclick="handleGoogleSheetsUpdate()">
                        ğŸ“¥ Google Sheetsì—ì„œ ì—…ë°ì´íŠ¸
                    </button>
                    <button class="btn btn--secondary btn--sm" onclick="showGoogleSheetsSetup()">
                        âš™ï¸ ì„¤ì •
                    </button>
                    <button class="btn btn--outline btn--sm" onclick="handleDataReset()">
                        ğŸ”„ ì›ë³¸ ë°ì´í„°ë¡œ ë³µêµ¬
                    </button>
                </div>
            </div>
            
            <div class="admin-section">
                <h4>ğŸ“‚ CSV íŒŒì¼ ê´€ë¦¬</h4>
                <p class="admin-desc">CSV íŒŒì¼ì„ í†µí•´ ìš©ì–´ ë°ì´í„°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                <div class="admin-buttons">
                    <button class="btn btn--outline btn--sm" onclick="GoogleSheetsIntegration.downloadTemplateCSV()">
                        ğŸ“„ í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ
                    </button>
                    <label class="btn btn--secondary btn--sm file-upload-btn">
                        ğŸ“ CSV íŒŒì¼ ì—…ë¡œë“œ
                        <input type="file" accept=".csv" onchange="handleCSVUpload(this)" style="display: none;">
                    </label>
                </div>
            </div>
        </div>
    </div>

    <!-- ê´€ë¦¬ì íŒ¨ë„ í† ê¸€ ë²„íŠ¼ -->
    <button id="admin-toggle" class="admin-toggle-btn" onclick="toggleAdminPanel()" title="ê´€ë¦¬ì íŒ¨ë„">
        ğŸ”§
    </button>

    <script src="google-sheets-integration.js"></script>
    <script src="app.js"></script>
    
    <style>
    /* ê´€ë¦¬ì íŒ¨ë„ ìŠ¤íƒ€ì¼ */
    .admin-panel {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: var(--color-card);
        border: 2px solid var(--color-border);
        border-radius: var(--radius-xl);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        z-index: 10000;
        width: 90%;
        max-width: 500px;
        max-height: 80vh;
        overflow-y: auto;
    }
    
    .admin-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: var(--space-4);
        border-bottom: 1px solid var(--color-border);
    }
    
    .admin-header h3 {
        margin: 0;
        color: var(--color-text);
        font-size: var(--text-lg);
    }
    
    .admin-content {
        padding: var(--space-4);
    }
    
    .admin-section {
        margin-bottom: var(--space-6);
    }
    
    .admin-section:last-child {
        margin-bottom: 0;
    }
    
    .admin-section h4 {
        margin: 0 0 var(--space-2) 0;
        color: var(--color-text);
        font-size: var(--text-base);
        font-weight: var(--font-weight-semibold);
    }
    
    .admin-desc {
        margin: 0 0 var(--space-3) 0;
        color: var(--color-text-secondary);
        font-size: var(--text-sm);
        line-height: 1.5;
    }
    
    .admin-buttons {
        display: flex;
        gap: var(--space-2);
        flex-wrap: wrap;
    }
    
    .admin-toggle-btn {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 50px;
        height: 50px;
        border: none;
        border-radius: 50%;
        background: var(--color-primary);
        color: white;
        font-size: 1.25rem;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        transition: all var(--duration-normal) var(--ease-out);
        z-index: 9999;
    }
    
    .admin-toggle-btn:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
    }
    
    .file-upload-btn {
        position: relative;
        cursor: pointer;
    }
    
    /* ë°˜ì‘í˜• */
    @media (max-width: 768px) {
        .admin-panel {
            width: 95%;
            margin: 0;
        }
        
        .admin-buttons {
            flex-direction: column;
        }
        
        .admin-toggle-btn {
            bottom: 15px;
            right: 15px;
            width: 45px;
            height: 45px;
            font-size: 1.125rem;
        }
    }
    </style>
    
    <script>
    // ê´€ë¦¬ì íŒ¨ë„ í† ê¸€
    function toggleAdminPanel() {
        const panel = document.getElementById('admin-panel');
        
        // ê°„ë‹¨í•œ ë¹„ë°€ë²ˆí˜¸ í™•ì¸
        if (panel.classList.contains('hidden')) {
            const password = prompt('ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:');
            if (password !== 'admin730810') {
                alert('ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸ì…ë‹ˆë‹¤.');
                return;
            }
        }
        
        panel.classList.toggle('hidden');
    }
    
    // Google Sheets ì—…ë°ì´íŠ¸ ì²˜ë¦¬ (ì„¤ì • í™•ì¸ í¬í•¨)
    async function handleGoogleSheetsUpdate() {
        console.log('ğŸ”´ handleGoogleSheetsUpdate í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ì—ˆìŠµë‹ˆë‹¤!');
        try {
            await GoogleSheetsIntegration.updateTermsFromGoogleSheets();
        } catch (error) {
            if (error.message.includes('ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤')) {
                const confirmSetup = confirm(`âŒ Google Sheets ì—°ë™ì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n\nì„¤ì • ë°©ë²•ì„ í™•ì¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`);
                if (confirmSetup) {
                    showGoogleSheetsSetup();
                }
            } else {
                alert('âŒ Google Sheets ì—…ë°ì´íŠ¸ ì‹¤íŒ¨: ' + error.message);
            }
        }
    }
    
    // CSV íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬
    async function handleCSVUpload(input) {
        const file = input.files[0];
        if (!file) return;
        
        try {
            const data = await GoogleSheetsIntegration.loadFromCSVFile(file);
            
            // ê¸°ì¡´ ë°ì´í„° ì—…ë°ì´íŠ¸
            if (typeof termsData !== 'undefined') {
                termsData.length = 0;
                termsData.push(...data);
                
                console.log(`${data.length}ê°œì˜ ìš©ì–´ê°€ CSVì—ì„œ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.`);
                
                // ì‚¬ì „ í™”ë©´ ìƒˆë¡œê³ ì¹¨
                if (document.getElementById('dictionary-screen').classList.contains('active')) {
                    showWelcomeMessage();
                }
                
                alert(`âœ… ${data.length}ê°œì˜ ìš©ì–´ê°€ ì„±ê³µì ìœ¼ë¡œ ì—…ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!`);
            }
        } catch (error) {
            console.error('CSV ì—…ë¡œë“œ ì‹¤íŒ¨:', error);
            alert('âŒ CSV íŒŒì¼ ì—…ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message);
        }
        
        // íŒŒì¼ ì…ë ¥ ì´ˆê¸°í™”
        input.value = '';
    }
    
    // ì›ë³¸ ë°ì´í„°ë¡œ ë³µêµ¬
    function handleDataReset() {
        const confirmReset = confirm(`ğŸ”„ ì›ë³¸ ë°ì´í„°ë¡œ ë³µêµ¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\nGoogle Sheetsì—ì„œ ê°€ì ¸ì˜¨ ëª¨ë“  ì—…ë°ì´íŠ¸ê°€ ì‚­ì œë˜ê³ , ì²˜ìŒ ì„¤ì •ëœ 34ê°œì˜ ìš©ì–´ë¡œ ë˜ëŒì•„ê°‘ë‹ˆë‹¤.\n\nì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`);
        
        if (confirmReset) {
            try {
                if (window.GoogleSheetsIntegration && window.GoogleSheetsIntegration.clearSavedTermsData) {
                    window.GoogleSheetsIntegration.clearSavedTermsData();
                    
                    // 3ì´ˆ í›„ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
                    setTimeout(() => {
                        window.location.reload();
                    }, 3000);
                } else {
                    alert('âŒ ë°ì´í„° ë³µêµ¬ ê¸°ëŠ¥ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                }
            } catch (error) {
                console.error('ë°ì´í„° ë³µêµ¬ ì‹¤íŒ¨:', error);
                alert('âŒ ë°ì´í„° ë³µêµ¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message);
            }
        }
    }
    
    // Google Sheets ì„¤ì • ëª¨ë‹¬
    function showGoogleSheetsSetup() {
        const setup = `
ğŸ”— Google Sheets ì—°ë™ ì„¤ì • ë°©ë²•:

1. Google Cloud Console (console.cloud.google.com) ì ‘ì†
2. ìƒˆ í”„ë¡œì íŠ¸ ìƒì„± ë˜ëŠ” ê¸°ì¡´ í”„ë¡œì íŠ¸ ì„ íƒ
3. Google Sheets API í™œì„±í™”
4. API í‚¤ ìƒì„± (ì œí•œ ì„¤ì •: Google Sheets APIë§Œ)
5. Google Sheets ë¬¸ì„œ ìƒì„±
6. ë¬¸ì„œë¥¼ "ëˆ„êµ¬ë‚˜ ë§í¬ê°€ ìˆìœ¼ë©´ ë³¼ ìˆ˜ ìˆìŒ"ìœ¼ë¡œ ê³µìœ 
7. ìŠ¤í”„ë ˆë“œì‹œíŠ¸ URLì—ì„œ ID ì¶”ì¶œ

ğŸ“‹ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ í˜•ì‹:
Aì—´: ìš©ì–´
Bì—´: ì •ì˜  
Cì—´: ì¹´í…Œê³ ë¦¬
Dì—´: ë‚œì´ë„ (easy/medium/hard)

âš™ï¸ ì„¤ì • íŒŒì¼: google-sheets-integration.js
- API_KEY: ìƒì„±í•œ API í‚¤
- SHEET_ID: ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ID
- SHEET_NAME: ì‹œíŠ¸ ì´ë¦„ (ê¸°ë³¸: 'ITìš©ì–´ë°ì´í„°')
        `;
        
        alert(setup);
    }
    </script>
</body>
</html>